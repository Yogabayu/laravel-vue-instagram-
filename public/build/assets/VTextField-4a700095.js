import{p as T,m as W,j as M,k,u as N,a as l,l as X,q as g,s as Y,v as I,x as Z,y as $,F as _,z as ee,A,B as te}from"./main-eac025ea.js";import{m as ne,c as le,f as E,d as ae,e as ue,u as oe,g as B,h as ie,i as re,j as se}from"./VInput-bf2fd736.js";import{I as ce}from"./VImg-571ed956.js";const de=T({...W(),...ne()},"VForm"),Fe=M()({name:"VForm",props:de(),emits:{"update:modelValue":e=>!0,submit:e=>!0},setup(e,P){let{slots:c,emit:V}=P;const n=le(e),a=k();function d(r){r.preventDefault(),n.reset()}function C(r){const s=r,u=n.validate();s.then=u.then.bind(u),s.catch=u.catch.bind(u),s.finally=u.finally.bind(u),V("submit",s),s.defaultPrevented||u.then(y=>{var m;let{valid:b}=y;b&&((m=a.value)==null||m.submit())}),s.preventDefault()}return N(()=>{var r;return l("form",{ref:a,class:["v-form",e.class],style:e.style,novalidate:!0,onReset:d,onSubmit:C},[(r=c.default)==null?void 0:r.call(c,n)])}),E(n,a)}}),fe=["color","file","time","date","datetime-local","week","month"],me=T({autofocus:Boolean,counter:[Boolean,Number,String],counterValue:[Number,Function],prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,suffix:String,role:String,type:{type:String,default:"text"},modelModifiers:Object,...ae(),...ue()},"VTextField"),he=M()({name:"VTextField",directives:{Intersect:ce},inheritAttrs:!1,props:me(),emits:{"click:control":e=>!0,"mousedown:control":e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,P){let{attrs:c,emit:V,slots:n}=P;const a=X(e,"modelValue"),{isFocused:d,focus:C,blur:r}=oe(e),s=g(()=>typeof e.counterValue=="function"?e.counterValue(a.value):typeof e.counterValue=="number"?e.counterValue:(a.value??"").toString().length),u=g(()=>{if(c.maxlength)return c.maxlength;if(!(!e.counter||typeof e.counter!="number"&&typeof e.counter!="string"))return e.counter}),y=g(()=>["plain","underlined"].includes(e.variant));function b(t,o){var i,f;!e.autofocus||!t||(f=(i=o[0].target)==null?void 0:i.focus)==null||f.call(i)}const m=k(),p=k(),v=k(),j=g(()=>fe.includes(e.type)||e.persistentPlaceholder||d.value||e.active);function F(){var t;v.value!==document.activeElement&&((t=v.value)==null||t.focus()),d.value||C()}function z(t){V("mousedown:control",t),t.target!==v.value&&(F(),t.preventDefault())}function O(t){F(),V("click:control",t)}function U(t){t.stopPropagation(),F(),A(()=>{a.value=null,te(e["onClick:clear"],t)})}function q(t){var i;const o=t.target;if(a.value=o.value,(i=e.modelModifiers)!=null&&i.trim&&["text","search","password","tel","url"].includes(e.type)){const f=[o.selectionStart,o.selectionEnd];A(()=>{o.selectionStart=f[0],o.selectionEnd=f[1]})}}return N(()=>{const t=!!(n.counter||e.counter!==!1&&e.counter!=null),o=!!(t||n.details),[i,f]=Y(c),{modelValue:ve,...G}=B.filterProps(e),H=ie(e);return l(B,I({ref:m,modelValue:a.value,"onUpdate:modelValue":x=>a.value=x,class:["v-text-field",{"v-text-field--prefixed":e.prefix,"v-text-field--suffixed":e.suffix,"v-input--plain-underlined":y.value},e.class],style:e.style},i,G,{centerAffix:!y.value,focused:d.value}),{...n,default:x=>{let{id:h,isDisabled:S,isDirty:R,isReadonly:J,isValid:K}=x;return l(re,I({ref:p,onMousedown:z,onClick:O,"onClick:clear":U,"onClick:prependInner":e["onClick:prependInner"],"onClick:appendInner":e["onClick:appendInner"],role:e.role},H,{id:h.value,active:j.value||R.value,dirty:R.value||e.dirty,disabled:S.value,focused:d.value,error:K.value===!1}),{...n,default:L=>{let{props:{class:w,...Q}}=L;const D=Z(l("input",I({ref:v,value:a.value,onInput:q,autofocus:e.autofocus,readonly:J.value,disabled:S.value,name:e.name,placeholder:e.placeholder,size:1,type:e.type,onFocus:F,onBlur:r},Q,f),null),[[$("intersect"),{handler:b},null,{once:!0}]]);return l(_,null,[e.prefix&&l("span",{class:"v-text-field__prefix"},[l("span",{class:"v-text-field__prefix__text"},[e.prefix])]),n.default?l("div",{class:w,"data-no-activator":""},[n.default(),D]):ee(D,{class:w}),e.suffix&&l("span",{class:"v-text-field__suffix"},[l("span",{class:"v-text-field__suffix__text"},[e.suffix])])])}})},details:o?x=>{var h;return l(_,null,[(h=n.details)==null?void 0:h.call(n,x),t&&l(_,null,[l("span",null,null),l(se,{active:e.persistentCounter||d.value,value:s.value,max:u.value},n.counter)])])}:void 0})}),E({},m,p,v)}});export{Fe as V,he as a};

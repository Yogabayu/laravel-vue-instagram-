import{m as w,V as x,a as z,b as S,c as V,d as j}from"./VInput-3c2a478c.js";import{_ as P}from"./_plugin-vue_export-helper-c27b6911.js";import{V as D,a as I}from"./VSpacer-06511969.js";import{o as l,c as r,b as i,F as v,d as b,a,w as o,n as N,t as c,V as u,e as d,f as p,h as C}from"./main-24880278.js";import{V as T}from"./VImg-6daf1d99.js";import{V as W}from"./VTextField-eb5b1fd8.js";const B={name:"InstagramDashboard",data(){return{stories:[{id:1,username:"desta80s",avatar:"https://i.pravatar.cc/150?u=desta80s",hasStory:!0},{id:2,username:"futnhj",avatar:"https://i.pravatar.cc/150?u=futnhj",hasStory:!0},{id:3,username:"nikendwi.nd",avatar:"https://i.pravatar.cc/150?u=nikendwi",hasStory:!0},{id:4,username:"kukuhwah...",avatar:"https://i.pravatar.cc/150?u=kukuhwah",hasStory:!1},{id:5,username:"n.rdn_",avatar:"https://i.pravatar.cc/150?u=nrdn",hasStory:!0},{id:6,username:"dzawin_nur",avatar:"https://i.pravatar.cc/150?u=dzawin",hasStory:!0},{id:7,username:"stockbit",avatar:"https://i.pravatar.cc/150?u=stockbit",hasStory:!0},{id:8,username:"dewakoding",avatar:"https://i.pravatar.cc/150?u=dewakoding",hasStory:!0}],posts:[{id:1,username:"jelsinatosa_",userAvatar:"https://i.pravatar.cc/150?u=jelsinatosa",image:"https://images.unsplash.com/photo-1441974231531-c6227db76b6e?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1000&q=80",overlayText:`Salam kenal dari
Petani muda Nganjuk ðŸ‘‹`,caption:"Farming life in Nganjuk ðŸŒ¾",likes:1247,comments:35,timeAgo:"8h"}],basePhoto:this.$basephoto,isComment:!1,post:null,newComment:""}},methods:{async getPosts(){try{const n=await w.get("/post/random");n.status===200&&(this.posts=n.data.data)}catch(n){console.error("Error fetching posts:",n)}},async likesPost(n){var t,_;try{const k=await w.post(`/post/${n.id}/like`),e=JSON.parse(localStorage.getItem("userData")),h=n.likes.findIndex(s=>s.user_id===e.id);h!==-1?n.likes.splice(h,1):n.likes.push({user_id:e.id})}catch(k){this.$showToast("warning","Warning",((_=(t=k.response)==null?void 0:t.data)==null?void 0:_.message)||"Gagal memproses permintaan")}},openComment(n){this.post=n,this.isComment=!0},async sendComment(){var n,t;try{const _=await w.post(`/post/${this.post.id}/comment`,{comment:this.newComment});this.post.comments.push(_.data.data),this.newComment=""}catch(_){this.$showToast("warning","Warning",((t=(n=_.response)==null?void 0:n.data)==null?void 0:t.message)||"Gagal memproses permintaan")}}},mounted(){this.getPosts()}},A={class:"dashboard-container"},F={class:"stories-section mb-6"},G={class:"stories-scroll"},U={class:"story-avatar-wrapper"},H=["src","alt"],M={class:"story-username"},E={class:"feed-section"},L={class:"post-header"},R={class:"d-flex align-center"},q=["src","alt"],J={class:"post-username"},O={class:"post-time"},Y={class:"post-image-container"},K=["src","alt"],Q=["src","alt"],X=["src","alt"],Z={class:"post-actions"},$={class:"d-flex align-center"},ss={class:"post-stats"},ts={class:"likes-count"},es={class:"post-caption"},as={class:"username"},is={key:0,class:"view-comments"},os=["src","alt"],ns=["src","alt"],ls=["src","alt"],rs={class:"d-flex flex-row align-center mb-3"},cs={class:"text-subtitle-2 font-weight-bold text-white"},ms={class:"mb-3"},ds={class:"font-weight-bold mr-2"},us={class:"post-actions"},ps={class:"d-flex align-center"},hs={class:"post-stats"},_s={class:"likes-count"},fs={key:0,class:"view-comments"},gs={class:"font-weight-bold mr-2"};function vs(n,t,_,k,e,h){return l(),r(v,null,[i("div",A,[i("div",F,[i("div",G,[(l(!0),r(v,null,b(e.stories,s=>(l(),r("div",{class:"story-item",key:s.id},[i("div",U,[a(x,{size:"66",class:N({"story-gradient":s.hasStory})},{default:o(()=>[i("img",{src:s.avatar,alt:s.username},null,8,H)]),_:2},1032,["class"])]),i("span",M,c(s.username),1)]))),128))])]),i("div",E,[(l(!0),r(v,null,b(e.posts,s=>{var f,m;return l(),r("div",{class:"post-card",key:s.id},[i("div",L,[i("div",R,[a(x,{size:"32",class:"story-gradient mr-3"},{default:o(()=>{var g,y;return[i("img",{src:"https://i.pravatar.cc/150?u="+(((g=s.user)==null?void 0:g.email)||"default"),alt:(y=s.user)==null?void 0:y.username},null,8,q)]}),_:2},1024),i("div",null,[i("div",J,c((f=s.user)==null?void 0:f.username),1),i("div",O,c((m=s.created_at)==null?void 0:m.slice(0,10)),1)])]),a(p,{icon:"",size:"small",variant:"text"},{default:o(()=>[a(u,null,{default:o(()=>t[4]||(t[4]=[d("mdi-dots-horizontal")])),_:1})]),_:1})]),i("div",Y,[s.image_path&&s.image_path.startsWith("posts/")?(l(),r("img",{key:0,src:e.basePhoto+s.image_path,alt:s.caption,class:"post-image"},null,8,K)):s.image_path&&s.image_path.startsWith("images/")?(l(),r("img",{key:1,src:e.basePhoto+s.image_path,alt:s.caption,class:"post-image"},null,8,Q)):(l(),r("img",{key:2,src:"https://i.pravatar.cc/150?u="+(s.image_path||"default"),alt:s.caption,class:"post-image"},null,8,X))]),i("div",Z,[i("div",$,[a(p,{icon:"",size:"small",variant:"text",class:"mr-2",onClick:g=>h.likesPost(s)},{default:o(()=>[a(u,null,{default:o(()=>t[5]||(t[5]=[d("mdi-heart-outline")])),_:1})]),_:2},1032,["onClick"]),a(p,{icon:"",size:"small",variant:"text",class:"mr-2",onClick:g=>h.openComment(s)},{default:o(()=>[a(u,null,{default:o(()=>t[6]||(t[6]=[d("mdi-comment-outline")])),_:1})]),_:2},1032,["onClick"]),a(p,{icon:"",size:"small",variant:"text",class:"mr-2"},{default:o(()=>[a(u,null,{default:o(()=>t[7]||(t[7]=[d("mdi-send-outline")])),_:1})]),_:1})]),a(p,{icon:"",size:"small",variant:"text"},{default:o(()=>[a(u,null,{default:o(()=>t[8]||(t[8]=[d("mdi-bookmark-outline")])),_:1})]),_:1})]),i("div",ss,[i("div",ts,c(s.likes.length)+" likes",1),i("div",es,[i("span",as,c(s.username),1),d(" "+c(s.caption),1)]),s.comments>0?(l(),r("div",is," View all "+c(s.comments)+" comments ",1)):C("",!0)])])}),128))])]),a(D,{modelValue:e.isComment,"onUpdate:modelValue":t[3]||(t[3]=s=>e.isComment=s),height:"2000px",scrollable:""},{default:o(()=>[a(z,{class:"bg-black text-white rounded-xl overflow-hidden"},{default:o(()=>[a(S,{"no-gutters":""},{default:o(()=>[a(V,{cols:"7",class:"d-flex align-center justify-center bg-grey-darken-4"},{default:o(()=>[e.post.image_path&&e.post.image_path.startsWith("posts/")?(l(),r("img",{key:0,src:e.basePhoto+e.post.image_path,alt:e.post.caption,class:"w-100","max-height":"100%",cover:"",style:{"aspect-ratio":"1 / 1","object-fit":"contain"}},null,8,os)):e.post.image_path&&e.post.image_path.startsWith("images/")?(l(),r("img",{key:1,src:e.basePhoto+e.post.image_path,alt:e.post.caption,class:"w-100","max-height":"100%",cover:"",style:{"aspect-ratio":"1 / 1","object-fit":"contain"}},null,8,ns)):(l(),r("img",{key:2,src:"https://i.pravatar.cc/150?u="+(e.post.image_path||"default"),alt:e.post.caption,class:"w-100","max-height":"100%",cover:"",style:{"aspect-ratio":"1 / 1","object-fit":"contain"}},null,8,ls))]),_:1}),a(V,{cols:"5",class:"bg-black pa-4"},{default:o(()=>[a(j,{class:"pa-4"},{default:o(()=>{var s,f;return[i("div",rs,[a(x,{size:"40",class:"mr-3"},{default:o(()=>{var m;return[a(T,{src:"https://i.pravatar.cc/150?u="+((m=e.post.user)==null?void 0:m.email)},null,8,["src"])]}),_:1}),i("div",cs,c((s=e.post.user)==null?void 0:s.username),1),a(I),a(u,null,{default:o(()=>t[9]||(t[9]=[d("mdi-dots-horizontal")])),_:1})]),i("div",ms,[i("span",ds,c((f=e.post.user)==null?void 0:f.name),1),d(" "+c(e.post.caption),1)]),i("div",us,[i("div",ps,[a(p,{icon:"",size:"small",variant:"text",class:"mr-2",onClick:t[0]||(t[0]=m=>h.likesPost(e.post))},{default:o(()=>[a(u,{color:"white"},{default:o(()=>t[10]||(t[10]=[d("mdi-heart-outline")])),_:1})]),_:1}),a(p,{icon:"",size:"small",variant:"text",class:"mr-2",onClick:t[1]||(t[1]=m=>h.openComment(e.post))},{default:o(()=>[a(u,{color:"white"},{default:o(()=>t[11]||(t[11]=[d("mdi-comment-outline")])),_:1})]),_:1}),a(p,{icon:"",size:"small",variant:"text",class:"mr-2"},{default:o(()=>[a(u,{color:"white"},{default:o(()=>t[12]||(t[12]=[d("mdi-send-outline")])),_:1})]),_:1})]),a(p,{icon:"",size:"small",variant:"text"},{default:o(()=>[a(u,{color:"white"},{default:o(()=>t[13]||(t[13]=[d("mdi-bookmark-outline")])),_:1})]),_:1})]),i("div",hs,[i("div",_s,c(e.post.likes.length)+" likes",1),e.post.comments>0?(l(),r("div",fs," View all "+c(e.post.comments)+" comments ",1)):C("",!0)]),(l(!0),r(v,null,b(e.post.comments,m=>(l(),r("div",{key:m.id,class:"mb-2"},[i("span",gs,c(m.user.username),1),d(" "+c(m.comment_text),1)]))),128)),a(W,{modelValue:e.newComment,"onUpdate:modelValue":t[2]||(t[2]=m=>e.newComment=m),placeholder:"Tambahkan komentar...",dense:"","hide-details":"",variant:"plain",class:"text-white","append-inner-icon":"mdi-send","onClick:appendInner":h.sendComment},null,8,["modelValue","onClick:appendInner"])]}),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64)}const Cs=P(B,[["render",vs],["__scopeId","data-v-a0f6b015"]]);export{Cs as default};

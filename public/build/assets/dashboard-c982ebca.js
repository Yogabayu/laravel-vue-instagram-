import{m as y,V as x}from"./VAvatar-e4849550.js";import{_ as S}from"./_plugin-vue_export-helper-c27b6911.js";import{o as n,c as o,b as a,F as w,d as b,a as e,w as i,n as z,t as c,V as u,e as d,f as m,h as V}from"./main-eac025ea.js";import"./VImg-571ed956.js";const P={name:"InstagramDashboard",data(){return{stories:[{id:1,username:"desta80s",avatar:"https://i.pravatar.cc/150?u=desta80s",hasStory:!0},{id:2,username:"futnhj",avatar:"https://i.pravatar.cc/150?u=futnhj",hasStory:!0},{id:3,username:"nikendwi.nd",avatar:"https://i.pravatar.cc/150?u=nikendwi",hasStory:!0},{id:4,username:"kukuhwah...",avatar:"https://i.pravatar.cc/150?u=kukuhwah",hasStory:!1},{id:5,username:"n.rdn_",avatar:"https://i.pravatar.cc/150?u=nrdn",hasStory:!0},{id:6,username:"dzawin_nur",avatar:"https://i.pravatar.cc/150?u=dzawin",hasStory:!0},{id:7,username:"stockbit",avatar:"https://i.pravatar.cc/150?u=stockbit",hasStory:!0},{id:8,username:"dewakoding",avatar:"https://i.pravatar.cc/150?u=dewakoding",hasStory:!0}],posts:[{id:1,username:"jelsinatosa_",userAvatar:"https://i.pravatar.cc/150?u=jelsinatosa",image:"https://images.unsplash.com/photo-1441974231531-c6227db76b6e?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1000&q=80",overlayText:`Salam kenal dari
Petani muda Nganjuk ðŸ‘‹`,caption:"Farming life in Nganjuk ðŸŒ¾",likes:1247,comments:35,timeAgo:"8h"}],basePhoto:this.$basephoto}},methods:{async getPosts(){try{const r=await y.get("/post/random");r.status===200&&(this.posts=r.data.data)}catch(r){console.error("Error fetching posts:",r)}},async likesPost(r){var t,p;try{const _=await y.post(`/post/${r.id}/like`),l=JSON.parse(localStorage.getItem("userData")),h=r.likes.findIndex(s=>s.user_id===l.id);h!==-1?r.likes.splice(h,1):r.likes.push({user_id:l.id}),this.$showToast("success","Success",_.data.message)}catch(_){this.$showToast("warning","Warning",((p=(t=_.response)==null?void 0:t.data)==null?void 0:p.message)||"Gagal memproses permintaan")}}},mounted(){this.getPosts()}},j={class:"dashboard-container"},D={class:"stories-section mb-6"},N={class:"stories-scroll"},B={class:"story-avatar-wrapper"},A=["src","alt"],C={class:"story-username"},I={class:"feed-section"},T={class:"post-header"},W={class:"d-flex align-center"},$=["src","alt"],F={class:"post-username"},G={class:"post-time"},H={class:"post-image-container"},M=["src","alt"],E=["src","alt"],L=["src","alt"],U={class:"carousel-nav"},q={class:"post-actions"},J={class:"d-flex align-center"},O={class:"post-stats"},R={class:"likes-count"},Y={class:"post-caption"},K={class:"username"},Q={key:0,class:"view-comments"};function X(r,t,p,_,l,h){return n(),o("div",j,[a("div",D,[a("div",N,[(n(!0),o(w,null,b(l.stories,s=>(n(),o("div",{class:"story-item",key:s.id},[a("div",B,[e(x,{size:"66",class:z({"story-gradient":s.hasStory})},{default:i(()=>[a("img",{src:s.avatar,alt:s.username},null,8,A)]),_:2},1032,["class"])]),a("span",C,c(s.username),1)]))),128))])]),a("div",I,[(n(!0),o(w,null,b(l.posts,s=>{var f,g;return n(),o("div",{class:"post-card",key:s.id},[a("div",T,[a("div",W,[e(x,{size:"32",class:"story-gradient mr-3"},{default:i(()=>{var v,k;return[a("img",{src:"https://i.pravatar.cc/150?u="+(((v=s.user)==null?void 0:v.email)||"default"),alt:(k=s.user)==null?void 0:k.username},null,8,$)]}),_:2},1024),a("div",null,[a("div",F,c((f=s.user)==null?void 0:f.username),1),a("div",G,c((g=s.created_at)==null?void 0:g.slice(0,10)),1)])]),e(m,{icon:"",size:"small",variant:"text"},{default:i(()=>[e(u,null,{default:i(()=>t[0]||(t[0]=[d("mdi-dots-horizontal")])),_:1})]),_:1})]),a("div",H,[s.image_path&&s.image_path.startsWith("posts/")?(n(),o("img",{key:0,src:l.basePhoto+s.image_path,alt:s.caption,class:"post-image"},null,8,M)):s.image_path&&s.image_path.startsWith("images/")?(n(),o("img",{key:1,src:l.basePhoto+s.image_path,alt:s.caption,class:"post-image"},null,8,E)):(n(),o("img",{key:2,src:"https://i.pravatar.cc/150?u="+(s.image_path||"default"),alt:s.caption,class:"post-image"},null,8,L)),a("div",U,[e(m,{icon:"",size:"small",class:"nav-btn nav-prev",variant:"text"},{default:i(()=>[e(u,{size:"20"},{default:i(()=>t[1]||(t[1]=[d("mdi-chevron-left")])),_:1})]),_:1})])]),a("div",q,[a("div",J,[e(m,{icon:"",size:"small",variant:"text",class:"mr-2",onClick:v=>h.likesPost(s)},{default:i(()=>[e(u,null,{default:i(()=>t[2]||(t[2]=[d("mdi-heart-outline")])),_:1})]),_:2},1032,["onClick"]),e(m,{icon:"",size:"small",variant:"text",class:"mr-2"},{default:i(()=>[e(u,null,{default:i(()=>t[3]||(t[3]=[d("mdi-comment-outline")])),_:1})]),_:1}),e(m,{icon:"",size:"small",variant:"text",class:"mr-2"},{default:i(()=>[e(u,null,{default:i(()=>t[4]||(t[4]=[d("mdi-send-outline")])),_:1})]),_:1})]),e(m,{icon:"",size:"small",variant:"text"},{default:i(()=>[e(u,null,{default:i(()=>t[5]||(t[5]=[d("mdi-bookmark-outline")])),_:1})]),_:1})]),a("div",O,[a("div",R,c(s.likes.length)+" likes",1),a("div",Y,[a("span",K,c(s.username),1),d(" "+c(s.caption),1)]),s.comments>0?(n(),o("div",Q," View all "+c(s.comments)+" comments ",1)):V("",!0)])])}),128))])])}const es=S(P,[["render",X],["__scopeId","data-v-2d23e8db"]]);export{es as default};
